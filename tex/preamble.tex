\usepackage{tikz}
\usetikzlibrary{arrows, patterns}

\RequirePackage{xcolor}
\definecolor{color1}{HTML}{7D0025}
\definecolor{color2}{HTML}{AB3816}
\definecolor{color3}{HTML}{C66D2E}
\definecolor{color4}{HTML}{DA9C5B}
\definecolor{color5}{HTML}{EAC486}
\definecolor{color6}{HTML}{F9E7AE}
\definecolor{color7}{HTML}{FFFFC8}

\newcommand{\legend}[2]{
  \begin{scope}[xshift=#1, yshift=#2]
    \draw[draw] (0,0) rectangle ++(3,-1);
    \draw[draw, fill=color1] (0.1,-0.1) rectangle ++(0.4,-0.2);
    \draw[anchor=west] (0.5, -0.2) node {\scriptsize Tensorflow time};
    \draw[draw, fill=color4] (0.1,-0.4) rectangle ++(0.4,-0.2);
    \draw[anchor=west] (0.5, -0.5) node {\scriptsize CPU time};
    \draw[draw, preaction={fill,color7}, pattern=north east lines] (0.1,-0.7) rectangle ++(0.4,-0.2);
    \draw[anchor=west] (0.5, -0.8) node {\scriptsize Enclave penalty};
  \end{scope}
}
